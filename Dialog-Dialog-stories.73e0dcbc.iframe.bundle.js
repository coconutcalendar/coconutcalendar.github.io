"use strict";(self.webpackChunk_coconut_software_ui=self.webpackChunk_coconut_software_ui||[]).push([[6964],{"./src/Dialog/Dialog.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,WithForm:()=>WithForm,WithScrollLock:()=>WithScrollLock,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Dialog_stories});var objectSpread2=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),Button=__webpack_require__("./src/Button/Button.tsx"),icons=__webpack_require__("./src/icons.ts"),Menu=__webpack_require__("./src/Menu/Menu.tsx"),renderWithProvider=__webpack_require__("./src/tests/__helpers__/renderWithProvider.tsx"),TextInput=__webpack_require__("./src/TextInput/TextInput.tsx"),Typography=__webpack_require__("./src/Typography/Typography.tsx"),defineProperty=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),es2015=__webpack_require__("./node_modules/react-focus-lock/dist/es2015/index.js"),useIntl=__webpack_require__("./node_modules/react-intl/lib/src/components/useIntl.js"),Combination=__webpack_require__("./node_modules/react-remove-scroll/dist/es2015/Combination.js"),useElementOverflow=__webpack_require__("./src/hooks/useElementOverflow.ts"),useId=__webpack_require__("./src/hooks/useId.ts"),IconButton=__webpack_require__("./src/IconButton/IconButton.tsx"),Close=__webpack_require__("./src/icons/Close.tsx"),Portal=__webpack_require__("./src/Portal/Portal.tsx"),keyboard=__webpack_require__("./src/utilities/keyboard.ts");const utilities_nodeToString=function nodeToString(node){var string="";return"string"==typeof node?string=node:"number"==typeof node?string=node.toString():node instanceof Array?string=(string=node.reduce((function(previous,current){return previous+" "+nodeToString(current)}),string)).trim():(0,react.isValidElement)(node)&&(string+=nodeToString(node.props.children)),string};var _constraints,_reducers,ActionTypes,Backdrops,Constraints,process=__webpack_require__("./node_modules/process/browser.js");!function(ActionTypes){ActionTypes[ActionTypes.AddTitle=0]="AddTitle",ActionTypes[ActionTypes.RemoveTitle=1]="RemoveTitle",ActionTypes[ActionTypes.AddContent=2]="AddContent",ActionTypes[ActionTypes.RemoveContent=3]="RemoveContent"}(ActionTypes||(ActionTypes={})),function(Backdrops){Backdrops[Backdrops.Dark=0]="Dark",Backdrops[Backdrops.Light=1]="Light"}(Backdrops||(Backdrops={})),function(Constraints){Constraints[Constraints.Default=0]="Default",Constraints[Constraints.Screen=1]="Screen",Constraints[Constraints.Padded=2]="Padded"}(Constraints||(Constraints={}));var constraints=(_constraints={},(0,defineProperty.A)(_constraints,Constraints.Default,"max-w-xl max-h-(screen-16) m-6"),(0,defineProperty.A)(_constraints,Constraints.Screen,"max-w-screen max-h-screen"),(0,defineProperty.A)(_constraints,Constraints.Padded,"max-w-(screen-16) max-h-(screen-16) m-6"),_constraints),DialogContext=(0,react.createContext)(null),reducers=(_reducers={},(0,defineProperty.A)(_reducers,ActionTypes.AddTitle,(function(state){return(0,objectSpread2.A)((0,objectSpread2.A)({},state),{},{hasTitle:!0})})),(0,defineProperty.A)(_reducers,ActionTypes.RemoveTitle,(function(state){return(0,objectSpread2.A)((0,objectSpread2.A)({},state),{},{hasTitle:!1})})),(0,defineProperty.A)(_reducers,ActionTypes.AddContent,(function(state){return(0,objectSpread2.A)((0,objectSpread2.A)({},state),{},{hasContent:!0})})),(0,defineProperty.A)(_reducers,ActionTypes.RemoveContent,(function(state){return(0,objectSpread2.A)((0,objectSpread2.A)({},state),{},{hasContent:!1})})),_reducers),runReducer=function runReducer(state,action){return reducers[action.type](state,action)},useDialog=function useDialog(){return(0,react.useContext)(DialogContext)};function Dialog(_ref3){var _ref3$backdrop=_ref3.backdrop,backdrop=void 0===_ref3$backdrop?Backdrops.Dark:_ref3$backdrop,children=_ref3.children,_ref3$constraint=_ref3.constraint,constraint=void 0===_ref3$constraint?Constraints.Default:_ref3$constraint,_ref3$dismissable=_ref3.dismissable,dismissable=void 0!==_ref3$dismissable&&_ref3$dismissable,onDismiss=_ref3.onDismiss,_ref3$open=_ref3.open,open=void 0!==_ref3$open&&_ref3$open,mouseDownTarget=(0,react.useRef)(null),parentRef=(0,react.useRef)(null),_useReducer=(0,react.useReducer)(runReducer,{dismissable,hasContent:!1,hasTitle:!1,id:(0,useId.B)(),onDismiss,parentRef}),_useReducer2=(0,slicedToArray.A)(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1],disabled=!!Object.hasOwnProperty.call(process.env,"DISABLE_SCROLL_FOCUS_LOCK")&&"true"===process.env.DISABLE_SCROLL_FOCUS_LOCK;return open?react.createElement(Portal.A,{open},react.createElement("div",{"aria-describedby":state.hasContent?"coconut-dialog-content-".concat(state.id):void 0,"aria-labelledby":state.hasTitle?"coconut-dialog-header-".concat(state.id):void 0,"aria-modal":"true",className:(0,clsx_m.A)("fixed inset-0 flex items-center justify-center opacity-100 backdrop-blur-2 z-9998",backdrop===Backdrops.Dark?"bg-black-45":"bg-white-45"),onClick:function handleClick(event){mouseDownTarget.current===event.currentTarget&&(event.stopPropagation(),null==onDismiss||onDismiss())},onKeyDown:function handleKeyDown(event){event.key===keyboard.D.Escape&&(event.stopPropagation(),null==onDismiss||onDismiss())},onMouseDown:function handleMouseDown(event){mouseDownTarget.current=event.target},ref:parentRef,role:"dialog"},react.createElement(Combination.A,{enabled:!disabled},react.createElement(es2015.Ay,{disabled,returnFocus:!0},react.createElement("div",{className:(0,clsx_m.A)("relative flex flex-col overflow-auto font-sans rounded outline-none shadow-24 bg-white-100",constraints[constraint])},react.createElement(DialogContext.Provider,{value:[state,dispatch]},children)))))):null}Dialog.Actions=function Actions(_ref){var children=_ref.children;return react.createElement("div",{className:"flex items-center justify-end flex-shrink-0 p-6 space-x-2"},children)},Dialog.Content=function Content(_ref2){var children=_ref2.children,ref=(0,react.useRef)(null),overflowing=(0,useElementOverflow.g)(ref),_useDialog=useDialog(),_useDialog2=(0,slicedToArray.A)(_useDialog,2),state=_useDialog2[0],dispatch=_useDialog2[1],id="coconut-dialog-content-".concat(state.id);return(0,react.useLayoutEffect)((function(){return dispatch({type:ActionTypes.AddContent}),function(){state.parentRef.current&&dispatch({type:ActionTypes.RemoveContent})}}),[dispatch,state.parentRef]),react.createElement("div",{className:(0,clsx_m.A)("px-6 overflow-hidden overflow-y-auto focus-visible:ring",overflowing?"border-b border-t border-black-10":null,state.hasTitle?"py-0":"pt-6"),id,ref},children)},Dialog.Header=function Header(_ref4){var children=_ref4.children,_useDialog3=useDialog(),_useDialog4=(0,slicedToArray.A)(_useDialog3,2),state=_useDialog4[0],dispatch=_useDialog4[1],intl=(0,useIntl.A)(),id="coconut-dialog-header-".concat(state.id);return(0,react.useLayoutEffect)((function(){return dispatch({type:ActionTypes.AddTitle}),function(){state.parentRef.current&&dispatch({type:ActionTypes.RemoveTitle})}}),[dispatch,state.parentRef]),react.createElement("div",{className:(0,clsx_m.A)("flex items-center justify-between",state.dismissable?"px-6 py-4":"p-6")},react.createElement("h2",{className:"flex truncate",id,title:utilities_nodeToString(children)},react.createElement(Typography.A,{truncate:!0,variant:"h5"},children)),state.dismissable?react.createElement("div",{className:"ml-2"},react.createElement(IconButton.A,{"aria-label":intl.formatMessage({id:"Ui.close"}),onClick:state.onDismiss,size:"medium"},react.createElement(Close.A,null))):null)};const Dialog_Dialog=Dialog;try{Dialog.displayName="Dialog",Dialog.__docgenInfo={description:"",displayName:"Dialog",props:{backdrop:{defaultValue:{value:"Backdrops.Dark"},description:"",name:"backdrop",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"}]}},constraint:{defaultValue:{value:"Constraints.Default"},description:"",name:"constraint",required:!1,type:{name:"enum",value:[{value:"0"},{value:"1"},{value:"2"}]}},dismissable:{defaultValue:{value:"false"},description:"",name:"dismissable",required:!1,type:{name:"boolean"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!1,type:{name:"(() => void)"}},open:{defaultValue:{value:"false"},description:"",name:"open",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Dialog/Dialog.tsx#Dialog"]={docgenInfo:Dialog.__docgenInfo,name:"Dialog",path:"src/Dialog/Dialog.tsx#Dialog"})}catch(__react_docgen_typescript_loader_error){}var backdrops={node:void 0,"Backdrops.Dark":Backdrops.Dark,"Backdrops.Light":Backdrops.Light},Dialog_stories_constraints={node:void 0,"Constraints.Default":Constraints.Default,"Constraints.Padded":Constraints.Padded,"Constraints.Screen":Constraints.Screen};const Dialog_stories={title:"Dialog",component:Dialog_Dialog,argTypes:{actionLabels:{control:{type:"object"}},header:{control:{type:"text"}},content:{control:{type:"text"}},backdrop:{control:{options:Object.keys(backdrops),type:"select"}},constraint:{control:{options:Object.keys(Dialog_stories_constraints),type:"select"}}}};var flipState=function flipState(state){return!state};var Default=function Template(args){var _useReducer=(0,react.useReducer)(flipState,!1),_useReducer2=(0,slicedToArray.A)(_useReducer,2),open=_useReducer2[0],setOpen=_useReducer2[1],props=(0,objectSpread2.A)((0,objectSpread2.A)({},args),{},{actionLabels:void 0,backdrop:Dialog_stories_constraints[args.backdrop],constraint:Dialog_stories_constraints[args.constraint],header:void 0});return react.createElement(renderWithProvider.wx,null,react.createElement(Button.A,{onClick:setOpen,variant:"outlined"},"Open Alert"),react.createElement(Dialog_Dialog,Object.assign({},props,{onDismiss:setOpen,open}),args.header?react.createElement(Dialog_Dialog.Header,null,args.header):null,react.createElement(Dialog_Dialog.Content,null,args.content),args.actionLabels.length?react.createElement(Dialog_Dialog.Actions,null,args.actionLabels.map((function(label){return react.createElement(Button.A,{color:"primary",key:label,onClick:setOpen,size:"small",variant:"text"},label)}))):null))}.bind({});function WithForm(){var _useReducer3=(0,react.useReducer)(flipState,!1),_useReducer4=(0,slicedToArray.A)(_useReducer3,2),open=_useReducer4[0],setOpen=_useReducer4[1];return react.createElement(renderWithProvider.wx,null,react.createElement(Button.A,{onClick:setOpen,variant:"outlined"},"Open Alert"),react.createElement(Dialog_Dialog,{dismissable:!0,onDismiss:setOpen,open},react.createElement(Dialog_Dialog.Header,null,"Subscribe"),react.createElement(Dialog_Dialog.Content,null,react.createElement(Typography.A,{variant:"body2"},"To subscribe to this website, please enter your email address here. We will send updates occasionally."),react.createElement("div",{className:"mt-6"},react.createElement(TextInput.A,{label:"Email Address"})),react.createElement("div",{className:"mt-6"},react.createElement(Menu.A,null,react.createElement(Menu.A.Button,{size:"medium",variant:"outlined"},"Select newsletter cadence"),react.createElement(Menu.A.Items,null,react.createElement(Menu.A.Item,null,"Daily"),react.createElement(Menu.A.Item,null,"Weekly"),react.createElement(Menu.A.Item,null,"Quarterly"))))),react.createElement(Dialog_Dialog.Actions,null,react.createElement(Button.A,{color:"primary",onClick:setOpen,size:"small",variant:"text"},"Disagree"),react.createElement(Button.A,{color:"primary",onClick:setOpen,size:"small",variant:"text"},"Agree"))))}function WithScrollLock(){var _useReducer5=(0,react.useReducer)(flipState,!1),_useReducer6=(0,slicedToArray.A)(_useReducer5,2),open=_useReducer6[0],setOpen=_useReducer6[1];return react.createElement(renderWithProvider.wx,null,react.createElement(Button.A,{onClick:setOpen,variant:"outlined"},"Open Alert"),react.createElement(Dialog_Dialog,{onDismiss:setOpen,open},react.createElement(Dialog_Dialog.Header,null,"Vacation Time"),react.createElement(Dialog_Dialog.Content,null,react.createElement("div",{className:"mb-4"},react.createElement(Typography.A,{variant:"body2"},"Please indicate your preference for vacation from the options below:")),react.createElement("div",{className:"my-6"},react.createElement(Menu.A,null,react.createElement(Menu.A.Button,{size:"medium",variant:"contained"},"Expand Options"),react.createElement(Menu.A.Items,null,react.createElement(Menu.A.Item,{startAdornment:react.createElement(icons.Globe,null)},"European Backpacking"),react.createElement(Menu.A.Item,{startAdornment:react.createElement(icons.Place,null)},"Geocaching in the Andes"),react.createElement(Menu.A.Item,{startAdornment:react.createElement(icons.Serve,null)},"Charity work in Finland")))),react.createElement("div",{className:"mt-4"},react.createElement(Typography.A,{variant:"body2"},"Enjoy your trip :D"))),react.createElement(Dialog_Dialog.Actions,null,react.createElement(Button.A,{color:"primary",onClick:setOpen,size:"small",variant:"text"},"Take me home"),react.createElement(Button.A,{color:"primary",onClick:setOpen,size:"small",variant:"text"},"Lets go"))),new Array(30).fill("page content to ensure scroll behaviour").map((function(item,i){return react.createElement("div",{key:"".concat(i," item")},item)})))}Default.args={header:"Use Google's location service?",content:"Let Google help apps determine location. This means sending\n  anonymous location data to Google, even when no apps are running.",actionLabels:["Disagre","Agree"]},WithForm.parameters={...WithForm.parameters,docs:{...WithForm.parameters?.docs,source:{originalSource:'function WithForm(): JSX.Element {\n  const [open, setOpen] = useReducer(flipState, false);\n  return <TestingUiProvider>\n      <Button onClick={setOpen} variant="outlined">\n        Open Alert\n      </Button>\n      <Dialog dismissable onDismiss={setOpen} open={open}>\n        <Dialog.Header>Subscribe</Dialog.Header>\n        <Dialog.Content>\n          <Typography variant="body2">\n            To subscribe to this website, please enter your email address here.\n            We will send updates occasionally.\n          </Typography>\n          <div className="mt-6">\n            <TextInput label="Email Address" />\n          </div>\n          <div className="mt-6">\n            <Menu>\n              <Menu.Button size="medium" variant="outlined">\n                Select newsletter cadence\n              </Menu.Button>\n              <Menu.Items>\n                <Menu.Item>Daily</Menu.Item>\n                <Menu.Item>Weekly</Menu.Item>\n                <Menu.Item>Quarterly</Menu.Item>\n              </Menu.Items>\n            </Menu>\n          </div>\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button color="primary" onClick={setOpen} size="small" variant="text">\n            Disagree\n          </Button>\n          <Button color="primary" onClick={setOpen} size="small" variant="text">\n            Agree\n          </Button>\n        </Dialog.Actions>\n      </Dialog>\n    </TestingUiProvider>;\n}',...WithForm.parameters?.docs?.source}}},WithScrollLock.parameters={...WithScrollLock.parameters,docs:{...WithScrollLock.parameters?.docs,source:{originalSource:'function WithScrollLock(): JSX.Element {\n  const [open, setOpen] = useReducer(flipState, false);\n  return <TestingUiProvider>\n      <Button onClick={setOpen} variant="outlined">\n        Open Alert\n      </Button>\n      <Dialog onDismiss={setOpen} open={open}>\n        <Dialog.Header>Vacation Time</Dialog.Header>\n        <Dialog.Content>\n          <div className="mb-4">\n            <Typography variant="body2">\n              Please indicate your preference for vacation from the options\n              below:\n            </Typography>\n          </div>\n          <div className="my-6">\n            <Menu>\n              <Menu.Button size="medium" variant="contained">\n                Expand Options\n              </Menu.Button>\n              <Menu.Items>\n                <Menu.Item startAdornment={<Globe />}>\n                  European Backpacking\n                </Menu.Item>\n                <Menu.Item startAdornment={<Place />}>\n                  Geocaching in the Andes\n                </Menu.Item>\n                <Menu.Item startAdornment={<Serve />}>\n                  Charity work in Finland\n                </Menu.Item>\n              </Menu.Items>\n            </Menu>\n          </div>\n          <div className="mt-4">\n            <Typography variant="body2">Enjoy your trip :D</Typography>\n          </div>\n        </Dialog.Content>\n        <Dialog.Actions>\n          <Button color="primary" onClick={setOpen} size="small" variant="text">\n            Take me home\n          </Button>\n          <Button color="primary" onClick={setOpen} size="small" variant="text">\n            Lets go\n          </Button>\n        </Dialog.Actions>\n      </Dialog>\n      {new Array(30).fill(\'page content to ensure scroll behaviour\').map((item, i) =>\n    // eslint-disable-next-line react/no-array-index-key\n    <div key={`${i} item`}>{item}</div>)}\n    </TestingUiProvider>;\n}',...WithScrollLock.parameters?.docs?.source}}};const __namedExportsOrder=["Default","WithForm","WithScrollLock"]},"./src/hooks/useElementOverflow.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{g:()=>useElementOverflow});var _Users_heatheranderson_CODEZ_ui_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_useWindowSize__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/hooks/useWindowSize.ts");function useElementOverflow(ref){for(var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((function(){return!1})),_useState2=(0,_Users_heatheranderson_CODEZ_ui_components_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__.A)(_useState,2),overflowing=_useState2[0],setOverflowing=_useState2[1],windowSize=(0,_useWindowSize__WEBPACK_IMPORTED_MODULE_1__.l)(ref),_len=arguments.length,dependencies=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)dependencies[_key-1]=arguments[_key];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var el=ref.current;el&&setOverflowing(el.clientWidth<el.scrollWidth||el.clientHeight<el.scrollHeight)}),[ref,windowSize.height,windowSize.width,dependencies]),overflowing}}}]);